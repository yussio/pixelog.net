---
title: ブログのテーマカラーを青鼠色に変えたりなど
categories:
  - 雑記
pid: 5vet2d
date: 2020-05-05 16:03:32
---

ここ数日、ブログデザインに飽きるという持病を発症し、実は新しいブログデザインを作っていた。

それで1カラムで制作を進めていたのだけれど、インデックスページのデザインが納得できずに結局没になった。トップページで日付と記事タイトルだけを表示するという場合は、もうこれが決定稿で、それ以上のものはない気がする。

それなら、今のテーマを少し模様替えして使えばいいのでは、という天啓を得たので、そのまま使うことにした。そもそも、3ヶ月かけて作ったものをいきなり捨てようとするのもどうかしていたような。

## やったこと

- テーマカラーを新橋色から紺鼠色に変更（最近日本の伝統色に凝っている）
  - 新橋色は広い面積に敷くにはまぶしかった...
  - 京都のかばんの老舗、一澤帆布のかばんの色をイメージ
- ライトモード時にヘッダー・フッターの縁に掛かっていたbox-shadowを廃止
- パンくずリスト、記事部分のbox-shadowを薄めに変更
- スマホ版の記事の余白を可変に
- 本文部分にword-break: breaka-allとtext-align: justify指定
- 背景の灰色の青みを抑制
- サイドバーに検索フォーム追加
  - サイドバーが少し寂しかったのと、サイト内検索は閲覧者よりもむしろ運営者側にメリットがあるような気がしたので。以前ヘッダーに設置していたものを、gitの履歴から掘り起こして使い回してみた。
- フッターの余白を調整
- フッターに「Powered by Hexo. Theme designed by pixelog.」のクレジットを追加
  - 色を薄めにしてメリハリをつけてみた


## barba.js

Netlifyが日本からだと遅い問題が前から気になっていて、その対策として、Barba.jsというライブラリを使ってpjaxを導入しようとしたけれど、失敗に終わった。

barba.jsでは様々なイベントが用意されておりJSを発火させることができる。これが自分で書いたものならいいのだけれど、AnalyticsやAdsenseなどのサードパーティー製のスクリプトとなると話が違う。pjaxとAdsenseは検索してもほとんどドキュメントが見つからず相性が悪い。

他にも、記事内に書いたJSがそのままでは動かないなど、pjaxはあまりにも考えることが多いので、考えるのをやめた。

そして、Analyticsのデバッグのために自分除外フィルターを一時的に外したので、Analyticsのレポートが荒れたという事実だけが残った...。悲しい。

サイトを高速化させるなら、pjaxを導入するよりも、さくらのVPSあたりを契約するのが手っ取り早いな、などと思案中。おしまい。
