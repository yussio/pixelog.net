<div class="post-list">
    <ul class="rich-list">
        <% page.posts.each(function(post){ %>
            <li class="rich-list__item">
                <a class="rich-list__link" href="<%- url_for(post.path) %>">
                    <time class="rich-list__date" datetime="<%- post.date.format() %>">
                      <%- post.date.format(config.date_format) %>
                    </time>
                    <h2 class="rich-list__title"><%- post.title || "Untitled" %></h2>
                </a>
            </li>
        <% }) %>
    </ul>
    <div class="pager">
        <a class="pager__btn prev <% if (!page.prev_link && !is_current('/page/2/')) { %>disabled<% } %>" <% if (page.prev_link) { %> href="<%- url_for(page.prev_link) %>" <% } else if (is_current('/page/2/')) {  %> href="/" <% } %> >Newer</a>
        <div class="pager__number">
            <select class="pager__current" onchange="location.href=this.value;">
            <% const base_path = url_for(path).replace(/page\/.+\//,'') %>
            <% for( i = 1; i <= page.total; i++){ %>
                <% if( i === 1 ){ %>
                    <option value="<%= base_path %>"
                <% } else { %>
                    <option value="<%= base_path %>page/<%- i %>/"
                <% } %>
                <% if( i === page.current ){ %>
                  selected
                <% } %>
                  ><%- i %></option>
            <% } %>
            </select>
            <div class="pager__total">/ <%- page.total %></div>
        </div>
        <a class="pager__btn next <% if (!page.next_link) { %>disabled<% } %>" <% if (page.next_link) { %> href="<%- url_for(page.next_link) %>" <% } %>>Older</a>
    </div>
</div>
